2025-08-25 06:11:28.436 [background-preinit] INFO  [] [] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2025-08-25 06:11:28.514 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoControllerTest - Starting SolicitacaoControllerTest using Java 21.0.8 with PID 8441 (started by ubuntu in /home/ubuntu/itau-seguros-mvp)
2025-08-25 06:11:28.515 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoControllerTest - No active profile set, falling back to 1 default profile: "default"
2025-08-25 06:11:30.854 [main] INFO  [] [] o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2025-08-25 06:11:30.855 [main] INFO  [] [] o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2025-08-25 06:11:30.856 [main] INFO  [] [] o.s.t.w.s.TestDispatcherServlet - Completed initialization in 1 ms
2025-08-25 06:11:30.879 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoControllerTest - Started SolicitacaoControllerTest in 2.857 seconds (process running for 4.085)
2025-08-25 06:11:30.971 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Buscando solicitações do cliente: a1d4b5b6-c817-4e5c-b0a7-a108f0634691
2025-08-25 06:11:31.083 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Cancelando solicitação: b58b0cc3-a2d1-43e6-9ef5-e49e2d3a73fd
2025-08-25 06:11:31.339 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Recebida requisição para criar solicitação
2025-08-25 06:11:31.366 [main] WARN  [] [] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.itau.seguros.solicitacao.api.dto.SolicitacaoResponseDTO> com.itau.seguros.solicitacao.api.controller.SolicitacaoController.criar(com.itau.seguros.solicitacao.api.dto.SolicitacaoRequestDTO) with 8 errors: [Field error in object 'solicitacaoRequestDTO' on field 'paymentMethod': rejected value [null]; codes [NotBlank.solicitacaoRequestDTO.paymentMethod,NotBlank.paymentMethod,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.paymentMethod,paymentMethod]; arguments []; default message [paymentMethod]]; default message [Forma de pagamento é obrigatória]] [Field error in object 'solicitacaoRequestDTO' on field 'salesChannel': rejected value [null]; codes [NotBlank.solicitacaoRequestDTO.salesChannel,NotBlank.salesChannel,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.salesChannel,salesChannel]; arguments []; default message [salesChannel]]; default message [Canal de vendas é obrigatório]] [Field error in object 'solicitacaoRequestDTO' on field 'totalMonthlyPremiumAmount': rejected value [null]; codes [NotNull.solicitacaoRequestDTO.totalMonthlyPremiumAmount,NotNull.totalMonthlyPremiumAmount,NotNull.java.math.BigDecimal,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.totalMonthlyPremiumAmount,totalMonthlyPremiumAmount]; arguments []; default message [totalMonthlyPremiumAmount]]; default message [Valor do prêmio mensal é obrigatório]] [Field error in object 'solicitacaoRequestDTO' on field 'category': rejected value [null]; codes [NotNull.solicitacaoRequestDTO.category,NotNull.category,NotNull.com.itau.seguros.solicitacao.domain.model.CategoriaSeguro,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.category,category]; arguments []; default message [category]]; default message [Categoria do seguro é obrigatória]] [Field error in object 'solicitacaoRequestDTO' on field 'productId': rejected value [null]; codes [NotBlank.solicitacaoRequestDTO.productId,NotBlank.productId,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.productId,productId]; arguments []; default message [productId]]; default message [ID do produto é obrigatório]] [Field error in object 'solicitacaoRequestDTO' on field 'insuredAmount': rejected value [null]; codes [NotNull.solicitacaoRequestDTO.insuredAmount,NotNull.insuredAmount,NotNull.java.math.BigDecimal,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.insuredAmount,insuredAmount]; arguments []; default message [insuredAmount]]; default message [Valor do capital segurado é obrigatório]] [Field error in object 'solicitacaoRequestDTO' on field 'assistances': rejected value [null]; codes [NotNull.solicitacaoRequestDTO.assistances,NotNull.assistances,NotNull.java.util.List,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.assistances,assistances]; arguments []; default message [assistances]]; default message [Lista de assistências é obrigatória]] [Field error in object 'solicitacaoRequestDTO' on field 'coverages': rejected value [null]; codes [NotNull.solicitacaoRequestDTO.coverages,NotNull.coverages,NotNull.java.util.Map,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [solicitacaoRequestDTO.coverages,coverages]; arguments []; default message [coverages]]; default message [Coberturas são obrigatórias]] ]
2025-08-25 06:11:31.379 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Buscando solicitação por ID: e3606823-56c4-40f6-8a01-a194c6791166
2025-08-25 06:11:31.401 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Cancelando solicitação: 37c5b822-8d7d-4068-aa2e-a73493fdc250
2025-08-25 06:11:31.403 [main] WARN  [] [] c.i.s.s.a.c.SolicitacaoController - Não é possível cancelar a solicitação 37c5b822-8d7d-4068-aa2e-a73493fdc250: Solicitação não pode ser cancelada no estado atual: APROVADA
2025-08-25 06:11:31.441 [main] INFO  [] [] c.i.s.s.a.c.SolicitacaoController - Buscando solicitação por ID: b99b5982-2400-4afb-9787-a56231dd7fef
2025-08-25 06:11:31.443 [main] WARN  [] [] c.i.s.s.a.c.SolicitacaoController - Solicitação não encontrada: b99b5982-2400-4afb-9787-a56231dd7fef
2025-08-25 06:11:32.011 [main] INFO  [] [] c.i.s.s.a.service.SolicitacaoService - Cancelando solicitação: e0402c4e-b04d-456e-8081-fe0cc114b55e
2025-08-25 06:11:32.012 [main] INFO  [] [] c.i.s.s.a.service.SolicitacaoService - Solicitação e0402c4e-b04d-456e-8081-fe0cc114b55e cancelada com sucesso
2025-08-25 06:11:32.028 [main] INFO  [f4c84842-c19c-4ffb-9f37-f1701c6a692e] [0d4bf131-00a0-4673-bfe4-987f2a3960e2] c.i.s.s.a.service.SolicitacaoService - Criando nova solicitação para cliente 0d4bf131-00a0-4673-bfe4-987f2a3960e2
2025-08-25 06:11:32.028 [main] INFO  [f4c84842-c19c-4ffb-9f37-f1701c6a692e] [0d4bf131-00a0-4673-bfe4-987f2a3960e2] c.i.s.s.a.service.SolicitacaoService - Solicitação e82d66ae-7446-4fc1-83a0-a9a70bfaa848 criada com sucesso
2025-08-25 06:11:32.036 [main] INFO  [] [] c.i.s.s.a.service.SolicitacaoService - Buscando solicitação por ID: a1d55fc9-119d-41eb-a8be-8a510e09a9af
2025-08-25 06:11:32.048 [main] INFO  [] [] c.i.s.s.a.service.SolicitacaoService - Cancelando solicitação: 43abb7d4-0887-4530-b84c-1543e49eee99
2025-08-25 06:11:32.055 [main] INFO  [94cb40d1-0127-4a12-8176-0fb48b15a76f] [] c.i.s.s.a.service.SolicitacaoService - Processando validação da solicitação e1144162-e2d2-4036-8024-308ba459807d
2025-08-25 06:11:32.056 [main] INFO  [94cb40d1-0127-4a12-8176-0fb48b15a76f] [] c.i.s.s.a.service.SolicitacaoService - Cliente 1afba350-ef0f-4c3e-960b-aa5f57b4a732 classificado como REGULAR
2025-08-25 06:11:32.057 [main] INFO  [94cb40d1-0127-4a12-8176-0fb48b15a76f] [] c.i.s.s.a.service.SolicitacaoService - Solicitação e1144162-e2d2-4036-8024-308ba459807d rejeitada: Capital segurado excede limite
2025-08-25 06:11:32.064 [main] INFO  [c64add5e-973d-41e6-a50c-249b4206d68b] [] c.i.s.s.a.service.SolicitacaoService - Processando validação da solicitação 9e310f31-41bd-4aaf-a238-b054b1ecbb8b
2025-08-25 06:11:32.065 [main] INFO  [c64add5e-973d-41e6-a50c-249b4206d68b] [] c.i.s.s.a.service.SolicitacaoService - Cliente 44a22e35-6548-4ec9-88a7-21d47c7fe2f5 classificado como REGULAR
2025-08-25 06:11:32.066 [main] INFO  [c64add5e-973d-41e6-a50c-249b4206d68b] [] c.i.s.s.a.service.SolicitacaoService - Solicitação 9e310f31-41bd-4aaf-a238-b054b1ecbb8b validada com sucesso
